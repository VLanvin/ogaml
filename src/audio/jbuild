(jbuild_version 1)

(rule (copy stubs/audio_stubs.c       audio_stubs.c))
(rule (copy stubs/buffer_stubs.c      buffer_stubs.c))
(rule (copy stubs/context_stubs.c     context_stubs.c))
(rule (copy stubs/device_stubs.c      device_stubs.c))
(rule (copy stubs/listener_stubs.c    listener_stubs.c))
(rule (copy stubs/source_stubs.c      source_stubs.c))
(rule (copy stubs/stb_stubs.c         stb_stubs.c))
(rule (copy stubs/stb_vorbis.h        stb_vorbis.h))
(rule (copy stubs/utils.c             utils.c))
(rule (copy stubs/utils.h             utils.h))

(library
  ((name        OgamlAudio)
   (public_name ogaml.audio)
   (libraries   (OgamlMath OgamlUtils threads))
   (c_names     (utils audio_stubs buffer_stubs context_stubs device_stubs 
                 listener_stubs source_stubs stb_stubs))
   (c_flags     (:standard (:include ../../w_flags.os)))
   (install_c_headers (stb_vorbis))
   (c_library_flags (:include ../../flags.os))))
