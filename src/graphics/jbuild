(jbuild_version 1)

(rule (copy stubs/shader_stubs.c       shader_stubs.c))
(rule (copy stubs/program_stubs.c      program_stubs.c))
(rule (copy stubs/texture_stubs.c      texture_stubs.c))
(rule (copy stubs/vao_stubs.c          vao_stubs.c))
(rule (copy stubs/vbo_stubs.c          vbo_stubs.c))
(rule (copy stubs/uniform_stubs.c      uniform_stubs.c))
(rule (copy stubs/text_stubs.c         text_stubs.c))
(rule (copy stubs/render_stubs.c       render_stubs.c))
(rule (copy stubs/ebo_stubs.c          ebo_stubs.c))
(rule (copy stubs/image_stubs.c        image_stubs.c))
(rule (copy stubs/blending_stubs.c     blending_stubs.c))
(rule (copy stubs/fbo_stubs.c          fbo_stubs.c))
(rule (copy stubs/rbo_stubs.c          rbo_stubs.c))
(rule (copy stubs/types_stubs.c        types_stubs.c))
(rule (copy stubs/types_stubs.h        types_stubs.h))
(rule (copy stubs/utils.c              utils.c))
(rule (copy stubs/utils.h              utils.h))
(rule (copy stubs/stb_image.h          stb_image.h))
(rule (copy stubs/stb_image_write.h    stb_image_write.h))
(rule (copy stubs/stb_truetype.h       stb_truetype.h))

(ocamlyacc (objParser))
(ocamllex (objLexer))

(library
  ((name        OgamlGraphics)
   (public_name ogaml.graphics)
   (libraries   (OgamlMath OgamlCore OgamlUtils threads bigarray str))
   (c_names     (utils shader_stubs program_stubs texture_stubs vao_stubs
                 vbo_stubs uniform_stubs text_stubs render_stubs ebo_stubs
                 image_stubs blending_stubs fbo_stubs rbo_stubs types_stubs))
   (c_flags     (:standard (:include ../../w_flags.os)))
   (install_c_headers (stb_image stb_image_write stb_truetype))
   (c_library_flags (:include ../../flags.os))))
